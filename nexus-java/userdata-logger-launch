#Removing old files helps debugging.
rm pz-logger-port-number-line > /tmp/userdata-logger-launch-1000 2>&1
rm pz-logger-port-number > /tmp/userdata-logger-launch-1100 2>&1

#Launch pz-logger
~/bin/pz-logger > pz-logger-port-number-line 2>&1 &

#It needs time to print its output message.
sleep 2 > /tmp/userdata-logger-launch-1200 2>&1

#Add the output to the /tmp tracers for debugging.
cp pz-logger-port-number-line /tmp/userdata-logger-launch-1300

#Extract just the process number between : and )
cat pz-logger-port-number-line | cut -d':' -f3 | cut -d')' -f1 > pz-logger-port-number

#Sometimes there is a line in the output that isn't related
# to the process number. After the cuts, that line is now
# empty, so remove it.
sed -i -e '/^$/d' pz-logger-port-number

touch /tmp/userdata-logger-launch-9999
